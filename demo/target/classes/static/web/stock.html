<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Stock</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    </head>

    <body>
    <form id="form-insert">
        股票代號:<br>
        <input type="text" name="stock">
        <br><br>
        交易日期:<br>
        <input type="text" name="tradeDate">
        <br><br>
        交易量:<br>
        <input type="text" name="volume">
        <br><br>
        價格:<br>
        <input type="text" name="price">
    </form>

    <br>
    <input id="btn-insert" type="button" value="新增資料">
    </body>

    <script type="text/javascript">
        $("#btn-insert").click(function(){
            $.ajax({
                url: "/stock/add",
                type: "POST",
                data: $("#form-insert").serialize(),
                dataType: "JSON",
                success: function(json){
                    if(json.state == 200){
                        alert("新增資料成功");
                    } else {
                        alert("新增資料失敗");
                    }
                },
                error: function(xhr){
                    alert("未知的錯誤\n" + xhr.status);
                }
            });
        });
    </script>
</html>
